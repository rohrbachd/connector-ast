{"version":3,"file":"index.js","sourceRoot":"","sources":["../src/index.ts"],"names":[],"mappings":"AAAA,OAAO,OAAO,MAAM,SAAS,CAAC;AAC9B,OAAO,EAAE,cAAc,EAAE,MAAM,uBAAuB,CAAC;AAEvD,MAAM,MAAM,GAAG,OAAO,EAAE,CAAC;AAEzB,MAAM,CAAC,GAAG,CAAC,SAAS,EAAE,KAAK,IAAI,EAAE;IAC/B,OAAO,EAAE,MAAM,EAAE,IAAI,EAAE,CAAC;AAC1B,CAAC,CAAC,CAAC;AAEH,MAAM,CAAC,eAAe,CAAC,CAAC,KAAK,EAAE,OAAO,EAAE,KAAK,EAAE,EAAE;IAC/C,IAAI,KAAK,YAAY,cAAc,EAAE,CAAC;QACpC,KAAK,CAAC,MAAM,CAAC,KAAK,CAAC,UAAU,CAAC,CAAC,IAAI,CAAC;YAClC,KAAK,EAAE,KAAK,CAAC,SAAS;YACtB,OAAO,EAAE,KAAK,CAAC,OAAO;SACvB,CAAC,CAAC;IACL,CAAC;SAAM,CAAC;QACN,KAAK,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC;YACrB,KAAK,EAAE,uBAAuB;YAC9B,OAAO,EAAE,uBAAuB;SACjC,CAAC,CAAC;IACL,CAAC;AACH,CAAC,CAAC,CAAC;AAEH,MAAM,CAAC,KAAK,UAAU,KAAK;IACzB,IAAI,CAAC;QACH,MAAM,MAAM,CAAC,MAAM,CAAC,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,SAAS,EAAE,CAAC,CAAC;QACrD,OAAO,CAAC,IAAI,CAAC,uDAAuD,CAAC,CAAC;IACxE,CAAC;IAAC,OAAO,GAAG,EAAE,CAAC;QACb,OAAO,CAAC,KAAK,CAAC,sCAAsC,EAAE,GAAG,CAAC,CAAC;QAC3D,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;IAClB,CAAC;AACH,CAAC;AAED,IAAI,OAAO,CAAC,IAAI,KAAK,MAAM,EAAE,CAAC;IAC5B,KAAK,EAAE,CAAC;AACV,CAAC","sourcesContent":["import fastify from 'fastify';\r\nimport { ConnectorError } from '../../core/src/errors';\r\n\r\nconst server = fastify();\r\n\r\nserver.get('/health', async () => {\r\n  return { status: 'ok' };\r\n});\r\n\r\nserver.setErrorHandler((error, request, reply) => {\r\n  if (error instanceof ConnectorError) {\r\n    reply.status(error.statusCode).send({\r\n      error: error.errorCode,\r\n      message: error.message,\r\n    });\r\n  } else {\r\n    reply.status(500).send({\r\n      error: 'INTERNAL_SERVER_ERROR',\r\n      message: 'Internal server error',\r\n    });\r\n  }\r\n});\r\n\r\nexport async function start() {\r\n  try {\r\n    await server.listen({ port: 3000, host: '0.0.0.0' });\r\n    console.info('Control Plane server running at http://localhost:3000');\r\n  } catch (err) {\r\n    console.error('Error starting Control Plane server:', err);\r\n    process.exit(1);\r\n  }\r\n}\r\n\r\nif (require.main === module) {\r\n  start();\r\n}\r\n"]}